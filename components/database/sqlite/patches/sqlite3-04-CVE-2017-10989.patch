Refer to upstream patch https://sqlite.org/src/info/66de6f4a

--- a/sqlite3.c	2017-07-10 17:17:10.766822124 +0000
+++ b/sqlite3.c	2017-07-10 17:20:17.895441474 +0000
@@ -166358,6 +166358,10 @@
     rc = getIntFromStmt(db, zSql, &pRtree->iNodeSize);
     if( rc!=SQLITE_OK ){
       *pzErr = sqlite3_mprintf("%s", sqlite3_errmsg(db));
+    }else if( pRtree->iNodeSize<(512-64) ){
+      rc = SQLITE_CORRUPT;
+      *pzErr = sqlite3_mprintf("undersize RTree blobs in \"%q_node\"",
+                               pRtree->zName);
     }
   }
 
