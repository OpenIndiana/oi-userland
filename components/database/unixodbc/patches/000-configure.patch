--- a/configure.~1~	2015-08-31 13:06:19.000000000 +0300
+++ b/configure	2015-11-25 16:33:41.977839326 +0300
@@ -1,4 +1,4 @@
-#! /bin/sh
+#! /bin/bash
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by GNU Autoconf 2.68 for unixODBC 2.3.4.
 #
@@ -256,7 +256,7 @@
 fi
 fi
 fi
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/bin/bash}
 export SHELL
 # Unset more variables known to interfere with behavior of common tools.
 CLICOLOR_FORCE= GREP_OPTIONS=
@@ -546,7 +546,7 @@
 
 lt_ltdl_dir='libltdl'
 
-SHELL=${CONFIG_SHELL-/bin/sh}
+SHELL=${CONFIG_SHELL-/bin/bash}
 
 lt_dlopen_dir="$lt_ltdl_dir"
 
@@ -874,7 +874,7 @@
 datadir='${datarootdir}'
 sysconfdir='${prefix}/etc'
 sharedstatedir='${prefix}/com'
-localstatedir='${prefix}/var'
+localstatedir='/var'
 runstatedir='${localstatedir}/run'
 includedir='${prefix}/include'
 oldincludedir='/usr/include'
@@ -2571,7 +2571,7 @@
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
-ac_compiler_gnu=$ac_cv_c_compiler_gnu
+ac_compiler_gnu="no"
 
 
 am__api_version='1.11'
@@ -2987,7 +2987,7 @@
   $as_echo_n "(cached) " >&6
 else
   cat >conftest.make <<\_ACEOF
-SHELL = /bin/sh
+SHELL = /bin/bash
 all:
 	@echo '@@@%%%=$(MAKE)=@@@%%%'
 _ACEOF
@@ -3234,7 +3234,7 @@
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
-ac_compiler_gnu=$ac_cv_c_compiler_gnu
+ac_compiler_gnu="no"
 if test -n "$ac_tool_prefix"; then
   # Extract the first word of "${ac_tool_prefix}gcc", so it can be a program name with args.
 set dummy ${ac_tool_prefix}gcc; ac_word=$2
@@ -5135,7 +5135,7 @@
   $as_echo_n "(cached) " >&6
 else
   cat >conftest.make <<\_ACEOF
-SHELL = /bin/sh
+SHELL = /bin/bash
 all:
 	@echo '@@@%%%=$(MAKE)=@@@%%%'
 _ACEOF
@@ -6683,7 +6683,7 @@
       for i in 1 2 3 4 5 6 7 8 ; do
         teststring=$teststring$teststring
       done
-      SHELL=${SHELL-${CONFIG_SHELL-/bin/sh}}
+      SHELL=${SHELL-${CONFIG_SHELL-/bin/bash}}
       # If test is not a shell built-in, we'll probably end up computing a
       # maximum length that is only half of the actual maximum length, but
       # we can't tell.
@@ -15598,6 +15598,7 @@
 int
 main ()
 {
+#error "We want to use libpthread and not libthread."
 mutex_lock()
   ;
   return 0;
@@ -15687,7 +15688,7 @@
 if test -z "`${CC-cc} -pthread -c conftest.c 2>&1`"; then
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
-  CFLAGS="$CFLAGS -pthread"
+  CFLAGS="$CFLAGS"
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
@@ -15760,7 +15761,7 @@
 if test -z "`${CC-cc} -pthread -c conftest.c 2>&1`"; then
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
-  CFLAGS="$CFLAGS -pthread"
+  CFLAGS="$CFLAGS"
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
@@ -15798,7 +15799,7 @@
 if test -z "`${CC-cc} -pthread -c conftest.c 2>&1`"; then
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
-  CFLAGS="$CFLAGS -pthread"
+  CFLAGS="$CFLAGS"
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
@@ -15838,7 +15839,7 @@
 
           $as_echo "#define HAVE_LIBPTHREAD 1" >>confdefs.h
 
-          THREADLIB="-pthread -lc_r"
+          THREADLIB="-lpthread -lposix4"
           gotthread="yes";
 
 else
@@ -15851,7 +15852,7 @@
 
         if test "x$gotthread" = "xno"; then
       SAVECFLAGS="$CFLAGS"
-      CFLAGS="$CFLAGS -D_THREAD_SAFE -D_ALL_SOURCE -D_LONG_LONG"
+      CFLAGS="$CFLAGS -D_REENTRANT -D_THREAD_SAFE -D_ALL_SOURCE -D_LONG_LONG"
       { $as_echo "$as_me:${as_lineno-$LINENO}: checking for pthread_mutex_lock in -lpthread" >&5
 $as_echo_n "checking for pthread_mutex_lock in -lpthread... " >&6; }
 ac_save_LIBS="$LIBS"
@@ -15999,7 +16000,7 @@
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
-ac_compiler_gnu=$ac_cv_c_compiler_gnu
+ac_compiler_gnu="no"
 
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking for semundo union" >&5
@@ -16048,6 +16049,8 @@
 
 fi
 
+export drivers="true"
+export driverc="true"
 
 # Check whether --with-msql-lib was given.
 if test "${with_msql_lib+set}" = set; then :
@@ -16265,6 +16268,8 @@
   QNX_FALSE=
 fi
 
+export use_builtin_libtool="no"
+
  if test "x$use_builtin_libtool" = "xyes" ; then
   WITHLT_TRUE=
   WITHLT_FALSE='#'
@@ -16815,6 +16820,8 @@
 fi
 done
 
+export LIBS="${LIBS} -lsocket -lnsl -lgen -z ignore"
+export LD_OPTIONS="-lsocket -lnsl -lgen -z ignore"
 
 for ac_func in putenv socket strdup strstr setenv setlocale strchr
 do :
