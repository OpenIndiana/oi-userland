diff -ruN mtr-0.87.orig/net.c mtr-0.87/net.c
--- mtr-0.87.orig/net.c	2016-08-01 06:07:58.000000000 -0700
+++ mtr-0.87/net.c	2017-05-18 14:19:23.699279140 -0700
@@ -27,6 +27,7 @@
 #include <sys/socket.h>
 #include <sys/ioctl.h>
 #include <sys/select.h>
+#include <sys/filio.h>
 #include <netinet/in.h>
 #include <memory.h>
 #include <unistd.h>
