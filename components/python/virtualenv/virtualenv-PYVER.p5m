#
# This file and its contents are supplied under the terms of the
# Common Development and Distribution License ("CDDL"), version 1.0.
# You may only use this file in accordance with the terms of version
# 1.0 of the CDDL.
# A full copy of the text of the CDDL should have accompanied this
# source.  A copy of the CDDL is also available via the Internet at
# http://www.illumos.org/license/CDDL.

#
# Copyright 2019 Tim Mooney <Timothy.V.Mooney@gmail.com>
# Copyright 2021, 2022 Andreas Wacknitz
#

set name=pkg.fmri value=pkg:/$(COMPONENT_FMRI)-$(PYV)@$(IPS_COMPONENT_VERSION),$(BUILD_VERSION)
set name=pkg.summary value="$(COMPONENT_SUMMARY)"
set name=info.classification value="$(COMPONENT_CLASSIFICATION)"
set name=info.upstream-url value=$(COMPONENT_PROJECT_URL)
set name=info.source-url value=$(COMPONENT_ARCHIVE_URL)
set name=org.opensolaris.consolidation value=$(CONSOLIDATION)

license $(COMPONENT_LICENSE_FILE) license='$(COMPONENT_LICENSE)'

# manually force a dependency on the Python runtime
depend fmri=__TBD pkg.debug.depend.file=python$(PYVER) \
       pkg.debug.depend.path=usr/bin type=require

# Force dependencies on packages according to setup.cfg:
depend type=require fmri=library/python/distlib-$(PYV)
depend type=require fmri=library/python/filelock-$(PYV)
# We don't have platformdirs-35:
$(PYTHON_3.5_EXCL)depend type=require fmri=library/python/platformdirs-$(PYV)
# importlib-metadata is only needed for python version < 3.8:
$(PYTHON_3.9_EXCL)depend type=require fmri=library/python/importlib-metadata-$(PYV)
depend type=require fmri=library/python/six-$(PYV)

<transform file path=.*/bin/ -> set pkg.depend.bypass-generate .*metadata.* >

#
# use pkg.depend.bypass-generate on virtualenv.py, to filter out
# some auto-generated dependencies.  The winreg dependency is only needed
# for Windows, and the configparser vs. ConfigParser and urllib vs urlparse
# are Python standard library modules that have been renamed in Python 3,
# so virtualenv tries both names.
#

file path=usr/bin/virtualenv-$(PYVER)
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv-$(COMPONENT_VERSION)-py$(PYVER).egg-info/PKG-INFO
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv-$(COMPONENT_VERSION)-py$(PYVER).egg-info/SOURCES.txt
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv-$(COMPONENT_VERSION)-py$(PYVER).egg-info/dependency_links.txt
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv-$(COMPONENT_VERSION)-py$(PYVER).egg-info/entry_points.txt
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv-$(COMPONENT_VERSION)-py$(PYVER).egg-info/requires.txt
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv-$(COMPONENT_VERSION)-py$(PYVER).egg-info/top_level.txt
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv-$(COMPONENT_VERSION)-py$(PYVER).egg-info/zip-safe
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/__main__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/activator.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/bash/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/bash/activate.sh
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/batch/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/batch/activate.bat
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/batch/deactivate.bat
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/batch/pydoc.bat
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/cshell/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/cshell/activate.csh
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/fish/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/fish/activate.fish
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/nushell/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/nushell/activate.nu
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/nushell/deactivate.nu
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/powershell/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/powershell/activate.ps1
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/python/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/python/activate_this.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/activation/via_template.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/app_data/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/app_data/base.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/app_data/na.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/app_data/read_only.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/app_data/via_disk_folder.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/app_data/via_tempdir.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/config/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/config/cli/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/config/cli/parser.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/config/convert.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/config/env_var.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/config/ini.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/creator.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/debug.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/describe.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/pyenv_cfg.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/_virtualenv.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/api.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/builtin_way.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/cpython/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/cpython/common.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/cpython/cpython2.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/cpython/cpython3.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/cpython/mac_os.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/pypy/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/pypy/common.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/pypy/pypy2.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/pypy/pypy3.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/python2/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/python2/python2.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/python2/site.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/ref.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/builtin/via_global_self_do.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/store.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/create/via_global_ref/venv.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/discovery/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/discovery/builtin.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/discovery/cached_py_info.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/discovery/discover.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/discovery/py_info.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/discovery/py_spec.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/discovery/windows/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/discovery/windows/pep514.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/info.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/report.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/run/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/run/plugin/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/run/plugin/activators.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/run/plugin/base.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/run/plugin/creators.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/run/plugin/discovery.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/run/plugin/seeders.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/run/session.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/embed/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/embed/base_embed.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/embed/pip_invoke.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/embed/via_app_data/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/embed/via_app_data/pip_install/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/embed/via_app_data/pip_install/base.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/embed/via_app_data/pip_install/copy.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/embed/via_app_data/pip_install/symlink.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/embed/via_app_data/via_app_data.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/seeder.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/acquire.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/bundle.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/embed/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/embed/pip-20.3.4-py2.py3-none-any.whl
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/embed/pip-21.3.1-py3-none-any.whl
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/embed/setuptools-44.1.1-py2.py3-none-any.whl
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/embed/setuptools-50.3.2-py3-none-any.whl
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/embed/setuptools-59.6.0-py3-none-any.whl
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/embed/setuptools-60.2.0-py3-none-any.whl
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/embed/wheel-0.37.1-py2.py3-none-any.whl
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/periodic_update.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/seed/wheels/util.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/error.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/lock.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/path/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/path/_pathlib/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/path/_pathlib/via_os_path.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/path/_permission.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/path/_sync.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/path/_win.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/six.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/subprocess/__init__.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/subprocess/_win_subprocess.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/util/zipapp.py
file path=usr/lib/python$(PYVER)/vendor-packages/virtualenv/version.py
