# HG changeset patch
# User Kirill Simonov <xi@resolvent.net>
# Date 1417197216 21600
# Node ID ddf211a41bb231c365fece5599b7e484e6dc33fc
# Parent  263dff6f9664ccdc532283ba5c7b282c0e436a7b
Removed invalid simple key assertion.

CVE-2014-9130

diff --git a/lib/yaml/scanner.py b/lib/yaml/scanner.py
--- a/lib/yaml/scanner.py
+++ b/lib/yaml/scanner.py
@@ -297,10 +297,6 @@
         # Check if a simple key is required at the current position.
         required = not self.flow_level and self.indent == self.column
 
-        # A simple key is required only if it is the first token in the current
-        # line. Therefore it is always allowed.
-        assert self.allow_simple_key or not required
-
         # The next token might be a simple key. Let's save it's number and
         # position.
         if self.allow_simple_key:
diff --git a/lib3/yaml/scanner.py b/lib3/yaml/scanner.py
--- a/lib3/yaml/scanner.py
+++ b/lib3/yaml/scanner.py
@@ -297,10 +297,6 @@
         # Check if a simple key is required at the current position.
         required = not self.flow_level and self.indent == self.column
 
-        # A simple key is required only if it is the first token in the current
-        # line. Therefore it is always allowed.
-        assert self.allow_simple_key or not required
-
         # The next token might be a simple key. Let's save it's number and
         # position.
         if self.allow_simple_key:
