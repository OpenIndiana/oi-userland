--- firefox-52.1.0esr/build/moz.configure/init.configure.~1~	2017-04-11 05:13:08.000000000 +0300
+++ firefox-52.1.0esr/build/moz.configure/init.configure	2017-05-04 17:23:44.352904564 +0300
@@ -336,6 +336,9 @@
         canonical_os = canonical_kernel = 'NetBSD'
     elif os.startswith('openbsd'):
         canonical_os = canonical_kernel = 'OpenBSD'
+    elif os.startswith('solaris'):
+        canonical_os = 'Solaris'
+        canonical_kernel = 'SunOS'
     else:
         die('Unknown OS: %s' % os)
 
--- firefox-52.1.0esr/old-configure.in.1	2017-05-04 16:16:14.524641413 +0300
+++ firefox-52.1.0esr/old-configure.in	2017-05-04 16:17:11.041200352 +0300
@@ -967,6 +967,11 @@
     ;;
     esac
     ;;
+*-solaris*)
+    MOZ_FIX_LINK_PATHS=
+    CFLAGS="$CFLAGS -DXP_UNIX -DSOLARIS"
+    CXXFLAGS="$CXXFLAGS -DXP_UNIX -DSOLARIS"
+    ;;
 *-mingw*)
     DSO_CFLAGS=
     DSO_PIC_CFLAGS=
--- firefox-52.1.0esr/js/src/old-configure.in.1	2017-05-04 14:44:33.457504436 +0300
+++ firefox-52.1.0esr/js/src/old-configure.in	2017-05-04 14:59:40.780387937 +0300
@@ -674,6 +674,11 @@
     esac
     ;;
 
+*-solaris*)
+     MOZ_FIX_LINK_PATHS=
+     CFLAGS="$CFLAGS -DXP_UNIX -DSOLARIS"
+     CXXFLAGS="$CXXFLAGS -DXP_UNIX -DSOLARIS"
+     ;;
 *-mingw*)
     DSO_CFLAGS=
     DSO_PIC_CFLAGS=
--- firefox-52.1.0esr/python/mozbuild/mozbuild/configure/constants.py.1	2017-05-04 12:17:35.094918532 +0300
+++ firefox-52.1.0esr/python/mozbuild/mozbuild/configure/constants.py	2017-05-04 12:19:10.931269870 +0300
@@ -24,6 +24,7 @@
     'NetBSD',
     'OpenBSD',
     'OSX',
+    'Solaris',
     'WINNT',
 )
 
@@ -35,6 +36,7 @@
     'Linux',
     'NetBSD',
     'OpenBSD',
+    'SunOS',
     'WINNT',
 )
 
@@ -97,6 +99,7 @@
     'Linux': '__linux__',
     'NetBSD': '__NetBSD__',
     'OpenBSD': '__OpenBSD__',
+    'SunOS': '__sun__',
     'WINNT': '_WIN32 || __CYGWIN__',
 }
 
--- firefox-52.1.0esr/build/moz.configure/memory.configure.1	2017-05-04 12:30:28.447535155 +0300
+++ firefox-52.1.0esr/build/moz.configure/memory.configure	2017-05-04 12:31:31.844538645 +0300
@@ -68,6 +68,8 @@
             return 'MOZ_MEMORY_DARWIN'
         if target.kernel in ('kFreeBSD', 'FreeBSD', 'NetBSD'):
             return 'MOZ_MEMORY_BSD'
+        if target.kernel == 'SunOS':
+            return 'MOZ_MEMORY_SOLARIS'
         die('--enable-jemalloc is not supported on %s', target.kernel)
 
 set_define(jemalloc_os_define, '1')
--- firefox-52.1.0esr/config/external/nspr/prcpucfg.h.1	2017-05-04 13:25:37.455450019 +0300
+++ firefox-52.1.0esr/config/external/nspr/prcpucfg.h	2017-05-04 13:26:17.202155986 +0300
@@ -20,6 +20,8 @@
 #include "md/_netbsd.cfg"
 #elif defined(__OpenBSD__)
 #include "md/_openbsd.cfg"
+#elif defined(__sun__)
+#include "md/_solaris.cfg"
 #elif defined(__linux__)
 #include "md/_linux.cfg"
 #else
--- firefox-52.1.0esr/config/external/nspr/pr/moz.build.~1~	2017-04-11 05:13:09.000000000 +0300
+++ firefox-52.1.0esr/config/external/nspr/pr/moz.build	2017-05-04 14:13:20.394137351 +0300
@@ -29,7 +29,7 @@
         SOURCES += ['/nsprpub/pr/src/md/unix/os_Linux_x86.s']
     elif CONFIG['CPU_ARCH'] == 'ppc':
         SOURCES += ['/nsprpub/pr/src/md/unix/os_Linux_ppc.s']
-elif CONFIG['OS_TARGET'] in ('FreeBSD', 'OpenBSD', 'NetBSD'):
+elif CONFIG['OS_TARGET'] in ('FreeBSD', 'OpenBSD', 'NetBSD', 'Solaris'):
     DEFINES.update(
         HAVE_BSD_FLOCK=True,
         HAVE_SOCKLEN_T=True,
@@ -222,6 +222,7 @@
     '/nsprpub/pr/include/md/_linux.cfg',
     '/nsprpub/pr/include/md/_netbsd.cfg',
     '/nsprpub/pr/include/md/_openbsd.cfg',
+    '/nsprpub/pr/include/md/_solaris.cfg',
     '/nsprpub/pr/include/md/_win95.cfg',
 ]
 
