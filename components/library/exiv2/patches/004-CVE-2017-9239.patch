From 2f8681e120d277e418941c4361c83b5028f67fd8 Mon Sep 17 00:00:00 2001
From: clanmills <robin@clanmills.com>
Date: Sat, 27 May 2017 10:18:17 +0100
Subject: [PATCH] #1296 Fix submitted.

--- exiv2-0.25.orig/src/tiffcomposite.cpp
+++ exiv2-0.25/src/tiffcomposite.cpp
@@ -1607,6 +1607,8 @@ namespace Exiv2 {
     uint32_t TiffImageEntry::doWriteImage(IoWrapper& ioWrapper,
                                           ByteOrder  /*byteOrder*/) const
     {
+        if ( !pValue() ) throw Error(21); // #1296
+        
         uint32_t len = pValue()->sizeDataArea();
         if (len > 0) {
 #ifdef DEBUG
