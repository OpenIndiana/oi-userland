--- webkitgtk-2.16.6/Source/cmake/OptionsCommon.cmake.orig	2018-06-03 16:30:33.922935085 +0000
+++ webkitgtk-2.16.6/Source/cmake/OptionsCommon.cmake	2018-06-03 16:31:53.967121768 +0000
@@ -73,11 +73,17 @@
 if (CMAKE_COMPILER_IS_GNUCC)
    DETERMINE_GCC_SYSTEM_INCLUDE_DIRS("c" "${CMAKE_C_COMPILER}" "${CMAKE_C_FLAGS}" SYSTEM_INCLUDE_DIRS)
    set(CMAKE_C_IMPLICIT_INCLUDE_DIRECTORIES ${CMAKE_C_IMPLICIT_INCLUDE_DIRECTORIES} ${SYSTEM_INCLUDE_DIRS})
+   if (CMAKE_C_COMPILER_VERSION VERSION_GREATER_EQUAL "7.1.0")
+     set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wno-expansion-to-defined")
+   endif ()
 endif ()
 
 if (CMAKE_COMPILER_IS_GNUCXX)
    DETERMINE_GCC_SYSTEM_INCLUDE_DIRS("c++" "${CMAKE_CXX_COMPILER}" "${CMAKE_CXX_FLAGS}" SYSTEM_INCLUDE_DIRS)
    set(CMAKE_CXX_IMPLICIT_INCLUDE_DIRECTORIES ${CMAKE_CXX_IMPLICIT_INCLUDE_DIRECTORIES} ${SYSTEM_INCLUDE_DIRS})
+   if (CMAKE_CXX_COMPILER_VERSION VERSION_GREATER_EQUAL "7.1.0")
+     set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wno-expansion-to-defined")
+   endif ()
 endif ()
 
 # Detect Cortex-A53 core if CPU is ARM64 and OS is Linux.
