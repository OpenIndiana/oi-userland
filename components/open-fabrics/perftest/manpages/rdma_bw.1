'\" t
.\" Copyright (c) 2012, 2017, Oracle and/or its affiliates. All rights reserved.
.\" Modified for Solaris to add the Solaris stability classification,
.\" and to add a note about source availability.
.\"
.TH RDMA_BW(1) RDMA_LAT 1 " Oct 15, 2011"
.SH "NAME"
rdma_bw, rdma_lat - Bandwith and latency test using RDMA write transactions. 
.PP
.SH SYNOPSIS
.HP
.nf
rdma_bw [-p, --port=<port>] [-d, --ib-dev=<dev>]
      [-i, --ib-port=<port number.] [-s, --size=<size>]
      [-n, --iters=<iterations>] [-t, --tx-depth=<depth>]
      [-S, --sl=<sl>] [-b, --bidirectional] [-c, --cma]
      [server]
.fi
.HP

.nf
rdma_lat [-p, --port=<port>] [-d, --ib-dev=<dev>]
      [-i, --ib-port=<port number.] [-s, --size=<size>]
      [-n, --iters=<iterations>] [-t, --tx-depth=<depth>]
      [-S, --sl=<sl>] [--I, --inline_size=<size>]
      [-C, --report-cycles] [-H, --report-histogram]
      [-U, --report-unsorted] [-c, --cma] [server]
.fi


.SH DESCRIPTION
.PP
.Nm
The rdma_bw and rdma_lat tests are part of the "perftest" utilities that  are  used  for  InfiniBand  related  performance  testing. The "perftest" utilities are micro bench mark utilities.

.PP
First a passive receiving instance is started.
.RS 12

	#rdma_bw
.RE
.PP
Then an active sending instance is started, giving it the address at which it will find a listening passive receiver.
.PP
.RS 12
	#rdma_bw server 
.RE
.PP
If options are used then the same options must be  used for both client and server.
.PP
.SH OPTIONS
.PP
The following options are available for use on the command line:

.TP 7
\fB\-p, --port  <port>
Listen on/connect to port <port> (default 18515)
.TP
\fB\-d, --ib-dev <dev>
Use IB device <dev> (default first device found)
.TP
\fB\-i, --ib-port <port number>
Use port <port number> of IB device (default 1)
.TP
\fB\-s, --size <size>
Size of message to exchange (default 2)
.TP
\fB\-n, --iters <iterations>
Number of exchanges (at least 5, default 1000)
.TP
\fB\-t, --tx-depth  <depth>
Size of tx queue (default 50)
.TP
\fB\-S, --sl <sl>
SL (default 0)
.TP
\fB\-I, --inline_size <size>
Max size of message to be sent in inline (default 0)
.TP
\fB\-b, --bidirectional
Measure bidirectional bandwidth (default unidirectional)
.TP
\fB\-c, --cma
use RDMA CM
.TP
\fB\-C, --report-cycles
report times in cpu cycle units (default microseconds)
.TP
\fB\-H, --report-histogram
Print out all results (default print summary only)
.TP
\fB\-U, --report-unsorted
(implies -H) print out unsorted results (default sorted)
.PP
.SH SEE ALSO
ib_write_bw(1), ib_write_lat(1), ib_send_lat(1), ib_read_bw(1), ib_send_bw(1), ib_read_lat(1), ib_clock_test(8), ib_write_bw_postlist(1)
