--- webkitgtk-2.10.4//Source/WebKit2/CMakeLists.txt.~1~	2015-11-11 10:42:51.000000000 +0300
+++ webkitgtk-2.10.4//Source/WebKit2/CMakeLists.txt	2015-12-08 16:20:52.818076090 +0300
@@ -744,6 +744,83 @@
     WebKit2
 )
 
+set_source_files_properties(UIProcess/API/APIFrameInfo.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APINavigation.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APINavigationData.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APIPageConfiguration.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APIProcessPoolConfiguration.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APISession.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APISessionState.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APIUserContentExtension.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APIUserContentExtensionStore.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APIUserScript.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APIWebsiteDataRecord.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/API/APIWebsiteDataStore.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/Authentication/AuthenticationDecisionListener.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/gtk/DragAndDropHandler.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/gtk/WebContextMenuProxyGtk.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/gtk/GestureController.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/gtk/WebColorPickerGtk.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/gtk/WebPageProxyGtk.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/gtk/InputMethodFilter.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/cairo/BackingStoreCairo.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/DefaultUndoController.h PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/DrawingAreaProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/DrawingAreaProxyImpl.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/GeolocationPermissionRequestManagerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/PageLoadState.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/TextCheckerCompletion.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/UserMediaPermissionRequestManagerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/VisitedLinkProvider.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebBackForwardList.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebBatteryManagerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebBatteryProvider.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebColorPicker.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebConnectionToWebProcess.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebContextClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebContextConnectionClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebContextInjectedBundleClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebContextMenuProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebCookieManagerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebCookieManagerProxyClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebDatabaseManagerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebDatabaseManagerProxyClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebEditCommandProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebFindClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebFormClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebFormSubmissionListenerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebFrameListenerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebFramePolicyListenerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebFrameProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebFullScreenManagerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebGeolocationManagerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebGeolocationProvider.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebGrammarDetail.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebIconDatabase.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebIconDatabaseClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebInspectorProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebMediaCacheManagerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebMediaSessionFocusManager.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebMediaSessionFocusManagerClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebNavigationState.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebOpenPanelResultListenerProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebPageDiagnosticLoggingClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebPageGroup.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebPageInjectedBundleClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebPageProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebPasteboardProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebPreferences.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebProcessLifetimeObserver.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebProcessLifetimeTracker.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebProcessPool.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebProcessProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebTextChecker.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebTextCheckerClient.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebVibrationProvider.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebVibrationProxy.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+set_source_files_properties(UIProcess/WebViewportAttributes.cpp PROPERTIES COMPILE_FLAGS -DGTK_API_VERSION_2 )
+
+
 # librt is needed for shm_open on Linux.
 find_library(LIBRT_LIBRARIES NAMES rt)
 mark_as_advanced(LIBRT_LIBRARIES)
